## 1. 문제 기획 단계

해당 분석을 통하여 현재 **유저들이 생각하는 던전앤파이터의 문제점을 발굴하는 것**이 즉, Problem mining이 분석의 목적입니다.

우선 던전앤파이터가 즐기는 유저들의 의견을 쉽게 모을 수 있는 데이터의 예시로 '던파TV 유튜브 채널 댓글' 을 데이터셋으로 만들어서 분석할 수 있지만, 직접 분석을 해본 결과 '재미없는 게임 왜 하냐?', '이미지 안 좋은 게임인데 왜하냐?'와 같은 비난을 하는 댓글의 비중이 더 크기 때문에 유튜브 댓글은 문제를 발굴하는 데 질이 좋은 데이터라고는 보기 힘듭니다.

유튜브 댓글과 비교하면 건설적인 의견을 제시하고 유저의 입장에서 겪는 불편한 점을 직접 피력하는 댓글 데이터로 **'던전앤파이터 공식 홈페이지 개발자 노트 댓글 데이터'**를 선택하였으며 이를 통하여 분석 목적에 맞게 유저들이 생각하는 던전앤파이터의 문제점과 유저들이 원하는 앞으로의 방향성을 '발굴'하겠습니다.

## 2. 데이터 수집

개발자 노트는 최신 개발자 노트 3개만 분석하였으며 그러는 이유는 최근 업데이트들이 모두 캐릭터 밸런싱에 대한 패치와 110렙 만렙확장과 105제 에픽 장비들의 밸런싱과 관련된 패치로 유저들이 가장 민감한 패치이기 때문입니다. 

던전앤파이터 공식 홈페이지 게시된 최신 업데이트 **2월 10일**, **3월 16일**, **4월 20일** 총 3개의 개발자 노트에 존재하는 댓글들을 2022년 4월 24일 기준으로 수집하였으며 수집한 방법은 파이썬의 Selenium 패키지를 사용하여 직접 크롤링을 진행하였습니다. 

불러온 데이터의 컬럼은 총 5가지로 각 컬럼의 설명은 다음과 같습니다.

![image](https://user-images.githubusercontent.com/51338268/166092375-703c8f2c-a2f8-4a83-a6c7-f4a2d72f2136.png)

- **user_id** : 댓글을 작성한 유저의 ID
- **server** : 댓글을 작성한 유저의 서버
- **date** : 댓글을 작성한 시간대
- **comment** : 댓글의 내용
- **title** : 댓글이 작성된 개발자 노트 제목

## 3. Simple EDA

크롤링으로 수집해온 댓글에 대한 간단한 이해를 위하여 막대그래프로 시각화하여 어떠한 개발자 노트에 유저들이 많은 댓글을 달았는지, 어떠한 서버에서 온 유저가 댓글을 많이 달았는지 알아보겠습니다.

![image](https://user-images.githubusercontent.com/51338268/165773514-494c585f-61a0-4d74-9abb-62fa730f6b8e.png)

2월 10일 자 개발자 노트의 댓글 개수는 1,352개, 3월 16일 자 개발자 노트는 1,275개, 4월 20일 자 개발자 노트는 723개의 댓글이 작성된 것을 알 수가 있었으며 전체 댓글의 개수는 2월 10일 자 개발자 노트가 가장 많았지만, 2022년 4월 24일을 기준으로 한 일별 댓글의 개수는 4월 20일 자 개발자 노트가 가장 많았습니다.

댓글을 작성한 유저들이 속한 서버의 개수를 막대 그래프로 시각화한 결과 인구수가 제일 많기로 유명한 카인 서버의 유저들이 1,157개로 가장 많은 댓글을 작성하였고, 프레이 서버를 제외한 나머지 서버의 댓글 수는 200~300개 정도로 나타나는 것을 알 수가 있었습니다.

## 4. Text Preprocessing

단어 빈도분석, 연관 규칙 분석을 진행하기 전 쓸모없는 단어들의 비중을 줄이고 의미 있는 단어들을 중심으로 분석하기 위해서 텍스트 전처리를 수행하는 것이 더 좋은 분석을 할 수 있게 만들어줍니다.

적용된 텍스트 전처리 기법은 다음과 같습니다.

```python
def process(x):
    # 1. html 태그 제거
    x = re.sub("(<([^>]+)>)"," ", x)
    # 2. 한국어, 숫자만 남도록 필터링
    x = re.sub('[^ㄱ-ㅎ가-힣0-9]', " ", x)
    # 3. 반복되는 공백 제거
    x = re.sub("[ ]+", " ", x)
    x = x.strip()
    return x
# 4. 같은 문장으로 도배하는 내용을 중복제거를 통한 내용축소
def repeats_press(string):
    for x in range(1, len(string)):
        substring = string[:x]
        if substring * (len(string)//len(substring))+(substring[:len(string)%len(substring)]) == string:
            return substring
    return string
# 5. 단어, 형태소 단위로 분절시켜주는 Mecab 형태소 분석기 사용
mecab = Mecab(dicpath=r"C:/mecab/mecab-ko-dic")
# 6. 빈도가 높지만 의미는 없는 불용어 리스트 작성후 제거
stopwords = ["은", "는", "이", "가", "는데", "지만", "으로", "세요", 
             "에서", "습니다", "한다", "인데", "면서", "부터", "아요",
            "ㅋㅋ", "ㅋㅋㅋ", "합니다", "입니다", "으면", "네요", "다고",
            "정도", "이번", "라는", "라고", "다는"]
```

## 5. 개발자 노트별 단어 빈도분석(워드클라우드)

각 개발자 노트에서 언급되는 주요 내용은 모두 다르므로 유저들에 개발자 노트마다 다른 내용을 담았을 것으로 보이지만, 그런데도 3개의 노트에서 공통으로 자주 나오는 단어들은 유저들이 지속해서 의견을 내비치고 있는 사안으로 생각되며, 각 개발자 노트에서만 나온 단어들을 각 노트에서 언급하는 중요한 키워드라고 이해할 수 있습니다. 

그러므로 각 개발자 노트의 출현 단어 빈도를 워드 클라우드 시각화하여 공통으로 많이 나오는 키워드는 무엇인지, 각 노트에서만 자주 언급되는 키워드는 무엇인지 한눈에 파악하기 쉽도록 만들겠습니다.

<img src = "https://user-images.githubusercontent.com/51338268/165781586-8760bbb8-0e54-4bce-b300-881d764b7462.png" height ="200"><img src="https://user-images.githubusercontent.com/51338268/165781702-4bcbe224-2c12-4b35-99d5-4b1825d35bd4.png" height ="200"><img src="https://user-images.githubusercontent.com/51338268/165781810-023b752c-6f4b-4303-a427-df95783f8a2e.png" height = "200">

![image](https://user-images.githubusercontent.com/51338268/165777328-de98b43a-9c57-411a-b437-11be3f34fcb7.png)

해당 분석에서는 유저들이 공통으로 언급하는 부분을 파악하기 위해서 각 개발자 노트에서 나온 키워드가 아닌 3개의 개발자 노트에서 많이 나온 단어들을 중심 키워드로 선정하겠습니다.

선정된 중심 키워드는 **{디렉터, 게임, 생각, 옵션, 던파, 사람, 유저, 캐릭}** 이며 중심 키워드와 연관 키워드를 파악하기 위해서 Apriori 알고리즘을 적용한 연관 규칙 분석을 진행하겠습니다.

## 6. 연관 규칙 분석

해당 분석의 연관 규칙 분석은 2개의 단어가 동시에 발생할 확률을 나타내는 support(지지도)를 기반으로 분석을 진행하였습니다.

- support(지지도) = P(A∩B) 단어 A와 단어 B가 동시에 출현한 횟수 / 전체 댓글 갯수

### 6.1 공통적으로 나온 키워드들 연관 규칙 분석

앞서 언급된 공통으로 자주 나온 키워드는 **{디렉터, 게임, 생각, 옵션, 던파, 사람, 유저, 캐릭}** 로 정리가 가능하며 중심 키워드와 연관 키워드 간의 관계를 좀 더 명확히 보기 위해서 각 키워드가 포함된 댓글만 가져오도록 필터링하고 필터링 된 댓글들을 바탕으로 해당 키워드와 연관된 주변 키워드들을 네트워크 분석으로 시각화하겠습니다. ('옵션', '유저'를 제외한 나머지 키워드 네트워크는 ipynb에서 보실 수 있습니다.)

<img src ="https://user-images.githubusercontent.com/51338268/165796394-83bea676-1bc0-43df-bedd-08dd71c39ebc.png" width ="250" height="150">              <img src ="https://user-images.githubusercontent.com/51338268/165796561-c4beb709-a3d6-4ded-b8c0-3419337eda0e.png" width ="250" height="150">

Apriori 알고리즘을 동시 발생 단어 빈도 기반의 support를 기준으로 관계성을 연결하였으며, 연관 규칙 분석을 support가 0.1 이상일 때의 관계를 나타내고 있습니다.

연관 규칙 분석 진행하여 중심 키워드와 주변 키워드 간의 관계를 동시출현 빈도를 기반으로 네트워크를 시각화한 결과 눈에 띄는 키워드들의 관계는 다음과 같습니다.

1. **{게임, 유저, 생각, 던파}**
2. **{결전, 무기, 스킬, 옵션}**

연관성을 지닌 주변 키워드끼리 어떠한 이유로 관계를 맺고 있는지 파악하기 위해서 해당 키워드들이 모두 포함된 댓글의 내용을 검색하여 내용을 파악하도록 하겠습니다.

#### 6.1.1 연관성을 가지는 키워드가 담긴 댓글 내용 훑어보기

1. 첫 번째 연관성을 지닌 키워드는 **{게임, 유저, 생각 던파}** 로, 해당 키워드들은 다른 키워드들에 비해서 공통으로 동시에 자주 나온 키워드이기도 하고 서로 연관 규칙 분석을 통하여 관련성도 있다고 판단된 키워드로 해당 키워드를 모두 포함한 댓글만을 뽑아서 확인해보겠습니다.

   현재 분석 중인 개발자 노트 댓글은 3종류이지만 과거 개발자 노트의 내용은 차후 업데이트를 통하여 고쳐졌을지도 모르는 부분이기 때문에 최신의 문제점들을 수집하기 위해서 그중에서 가장 최신 개발자 노트인 4월 20일 자 개발자 노트의 댓글에서 언급되는 내용을 알아보도록 하겠습니다.

   ```
   20220420_devnote_comment.csv : 기존 졸업자 입장에서 봤을 때도 뉴비&던린이분들을 위한 배려가 정말 느껴지지 않아서...최초 110렙 시작할 때의 아쉬운 부분이 많았던 것은 사실이나, 지속적인 A/S패치를 해주셔서 정말 감사합니다.
   모두를 다 만족시킬 순 없겠지만, 유저와 개발진간의 '소통'의 결과물들이 패치로 나오는 것을 보면, 그래도 참 로아라는 게임에 감사하게 되는 유저입니다.
   로아가 생각나는 '소통'에서, 던파만의 '소통'으로 발전하기를 진심으로 바라는 1인입니다.
   개인적으로 이번 패치에도 불구하고 아쉬운 점이 있다면,
   잡크리쳐 시세 폭등, 에픽 소울의 가치 떡락, 명성 신뢰도 대폭 하락, 신화 파밍의 어려움, 
   부케릭터 육성의 재미없음 (재미도 보람도 없는 1~100렙 육성 구간) 등이 있는 것 같네요.
   아무쪼록 앞으로도 즐던할 수 있고, 많은 분들과 함께 던파할 수 있기를 바랍니다.
   
   20220420_devnote_comment.csv : 분명 게임 방향성은 틀리지 않은거 같은데 뭔가 2% 부족한 느낌이 사라지지 않습니다
   지금 파죽마 명성도 베릴 광부 10캐릭씩 돌려가며 시간 부어서 뚫는거보다 그냥 레전템 사서 쩔받고 누더기 걸치다가 넘어가는게 훨씬 빠른거 같은데 이런식으로 노가다보다 효율이 넘사벽 수준이면 굳이 베릴 캐서 한땀한땀 명성 올리는게 의미있을까라는 생각이 드네요.
   그리고 직접 10캐릭돌리면서 계귀베릴 만개씩 쌓아두고 2중이관, 3중이관 돌려가며 히킹까지 비틀고 올라가고보니 노가다로 명성요구치 맞춰가는 난이도가 하루 3~4캐릭 이상 돌리기 어려운 일반인들에게는 너무 가혹하다는 생각이 듭니다.
   3~4캐릭만 돌려서 그냥 무~소자본이 정석대로 맨땅부터 파죽마까지 가려면 7월 이스핀즈 나올때까지는 꾸준히 해도 힘들 것 같은데 던파가 인생의 일부분이 되어버린 던붕이들이야 그렇다쳐도 그때까지 똑같은 컨텐츠만 돌리면서 버틸 던린이들이 있을지는 좀 의문이네요.
   그렇다고 그냥 돈써서 레전둘둘로 쩔받고 파죽마 바로 가면 돈을 쓴 본인은 본인대로 성장의 재미가 사라져 버리고... 몇 달 뒤 불가침 가격이 내려간후에 늘어날 파죽마 고인물 누더기가 눈 앞에 벌써부터 아른거리는데 솔직히 공포스럽습니다.
   이런 일들을 방지하기 위해서 정석적인 방법으로 꾸준히 주간마다 장비레벨을 올릴 수 있는 일종의 정가 컨텐츠가 하나정도는 필요하다고 생각합니다. 물론 어느정도의 성장제한은 걸려있어야 하겠지만 이런 시스템이 없으면 라이트 유저 대부분은 바칼 보기도 전에 지쳐서 떨어져나갈 것 같습니다.
   
   20220420_devnote_comment.csv : 게임 안한다지만 갈수록 ♡♥♥♡만 ♡♥♥♡ 털어대면서 본인 하는 말들 전부 하나하나 싹 다 반박해나가시는거 보면 머리가 띵하고 좋네요.... 게임을 한번이라도 했으면 개노에서 안봐도 됐었을 말들이었지 않았을까요? 주말마다 던파하느라 집안일 할 시간이 없다는거 치곤 너무 현실성이 없어보이는데 사실 피시던파가 아니라 모바일 던파였었을까요?? 이걸 왜 5월 다 돼가는 4월20일 개발자노트에서 봐야하는지도 모르겠네요 던전도 완벽하고 아이템도 완벽해서 무지성 과소모 아칸 상변(중독석화같은거 제외) 아니면 옵션에 하자가 있어서 안쓰고 매일매일 뺑이 돌으라는 던전도 피로감이 엄청나서 현실 일 못할 정도로 시간과 노력이 필요하다는거겠죠?? 그리고 짙편린같은거도 하루종일 메가폰으로 사재기한다고 광고하던데 혹시 디렉터님이나 지인분이 아닌가 싶어요 그거아니어도 크리쳐 아바타 가격 등 보면 여러 물품들 사재기하시느라 바쁘신거같은데 이번에 4억목도 나쁜 생각이 드네요.... 궁뎅이마냥 한탕 하시려는건지 ........ 제발 게임 회사면 게임좀 합시다... 아무리 유저들이 개나 돼지로 보여도 정도라는게 있지 않을까요..? 안톤때처럼 15강 이기리볼버로 내부 테스트 돌리느라 퀄리티가 조금 이상할 순 있다고 생각은 해요... 5월 패치와 개노가 또 기대가 되긴 하는데 사실 저번 달 개노에서부터도 나쁜 말 많이 들으셨던건 아시죠?? 이번 개노는 자화자찬밖에 안보이는거같아서..... 이 외에도 플포나 베릴같이 문제가 한두개가 아닌데 개노만 딱 써놓고 난 소통했다 라고 하는건 소통이 아니라는 말을 하고싶네용....
   ```

   확인한 결과 개발진을 칭찬하는 내용과 문제점을 제기하는 내용 2가지가 섞여 있는 것으로 보이며 특히 문제점을 제기하는 경우 단순히 원색적인 비난이 아닌 구체적으로 어떠한 점이 문제인지 명확하게 밝히고 있기에 해당 문제 발굴 분석에서 의미 있는 데이터라고 볼 수 있습니다.

   4월 20일 자 개발자 노트에 남긴 유저들의 댓글로 분석하여 나온 문제점을 정리하면 다음과 같습니다

   - **크리쳐 시세 폭등 문제**
   - **다캐릭 육성 과정중 느끼는 캐릭터 육성 피로감**

2. 두 번째 연관성을 지닌 키워드는 **{결전, 무기, 스킬, 옵션}** 로 마찬가지로 해당 키워드를 모두 포함한 댓글만을 뽑아서 확인해보겠습니다.

   ```
   20220420_devnote_comment.csv : 방향성에 만족합니다.
   하지만 딱 하나 불만인 점이 있는데, 결전무기의 캐릭마다의 효율성 차이가 좀 많이 납니다.
   물론 결전무기의 옵션을 장비에서 잘 버무리면 목표한 성능이 나오긴 합니다만, 문젠 결전무기로 특화하는 스킬 혹은 플레이에서 효율성 차이가 캐릭마다 좀 많이 납니다.
   결전무기 자체를 바꾸자고 하진 않습니다만, 결전무기가 강화하는 스킬 혹은 메커니즘의 기본 베이스가 너무 약해서 혹은 너무 불편해서 활용하기 어렵거나 비효율적인 직업들에 한정해서 결전무기와 연관된 스킬의 데미지 상향 혹은 메커니즘 완화가 있었으면 합니다.
   결전무기의 옵션을 100% 활용해도 보편적인 세팅+근원 무기보다 동등 혹은 약하거나 엄청나게 불편한 플레이를 강요받는다면 결전무기를 사용 할 이유가 없으니까요.
   ```

   {결전, 무기, 스킬, 옵션}으로 바꾸어서 검색한 댓글의 내용을 정리하면 다음과 같습니다.
   - **결전무기의 캐릭별 효율성 차이 문제**

## 7. 결론

전체 개발자 노트의 댓글에서 공통으로 나오는 단어(키워드)를 중심으로 연관 규칙 분석을 한 결과 연관성을 지닌 단어들의 관계성을 2가지 경우로 찾을 수 있었으며 첫 번째 관계는 **{게임, 유저, 생각, 던파}**이고 두 번째 관계는 **{결전, 무기, 옵션, 스킬}**입니다.

각 관계를 맺은 키워드를 포함하고 있는 댓글을 검색한 결과 상당히 건설적인 문제를 제기하는 유저들의 댓글들을 선별할 수 있었으며 해당 댓글들에서 언급하는 던전앤파이터가 가지는 문제점은 다음과 같이 정리할 수 있습니다.

1. **크리쳐 아이템 가치 폭등**
2. **다캐릭 육성 과정 중 느끼는 캐릭터 육성 피로감**
3. **결전무기의 캐릭별 효율성 차이 문제**

앞선 분석들을 통하여 선별된 문제점들은 다수의 유저들이 공통으로 지적하는 문제이기에 개발진에서도 주의 깊게 다뤄야 하는 부분으로 생각되며 문제별로 발생한 원인과 해결 방향을 제안하는 내용을 제안보고서에 정리하여 말씀드리도록 하겠습니다.

## 8. 참고 자료

- [던전앤파이터 공식 홈페이지 개발자 노트](https://df.nexon.com/df/mediazone/magazine/devnote)

- [워드 클라우드 빈도 분석](https://doitgrow.com/34)
- [연관 규칙 분석(Apriori 알고리즘) 1](https://lemontia.tistory.com/903)

- [연관 규칙 분석(Apriori 알고리즘) 2](https://ordo.tistory.com/89)